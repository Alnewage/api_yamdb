## Описание:
Проект YaMDb собирает отзывы пользователей на произведения.
Аутентификация пользователей организована при помощи JWT-токенов.
Пользователи могут создавать отзывы и делать к ним комментарии.
Одним пользователем можно сделать только один отзыв на выбранное произведение.

* **Category** - модель категории, содержащая поля _**name**_ (название категории), **_slug_** (слаг категории).

* **Genre** - модель жанра, содержащая поля **_name_** (название жанра), **_slug_** (слаг жанра).

* **Title** - модель произведения, содержащая поля **_name_** (название произведения),  **_year_** (год создания), **_category_** (название категории), **_description_** (описани произведения), и **_genre_** (жанр произведения).

* **Review** - модель отзыва на произведение, содержащая поля **_author_** (автор отзыва), **_title_** (произведение, к которому написан отзыв), **_text_** (текст отзыва), **_score_** (рейтинг, оценка произведения)  и **_created_** (дата добавления отзыва).

* **Comment** - модель комментария на отзыв, содержащая поля **_author_** (автор комментария), **_review_** (отзыв, к которому написан комментарий), **_text_** (текст комментария) и **_created_** (дата добавления отзыва).

В файле **views.py** Приложения **API** определены следующие представления (**viewsets**):

**TitleViewSet** - представление для модели **_Title_**, предоставляющее операции CRUD (создание, чтение, обновление, удаление) для произведения за исключением метода **PUT**.

**CategoryViewSet** - представление для модели **_Category_**, предоставляющее операцию чтения списков категорий (для любых пользователей), создание и удаление категорий (только для администратора).

**GenreViewSet** - представление для модели **_Genre_**, предоставляющее аналогичные операции как и для модели Category.

**ReviewViewSet** - представление для модели **_Review_**, предоставляющее аналогичные операции как и для модели Title.

**CommentViewSet** - представление для модели **_Comment_**, предоставляющее аналогичные операции как и для модели Title и Review.

В файле **_serializers.py_** определены сериализаторы для преобразования объектов моделей в JSON и обратно. Каждый сериализатор соответствует одной из моделей и определяет поля, которые будут сериализованы.

## Как запустить проект:

**Клонировать репозиторий и перейти в него в командной строке:**
```
git clone https://github.com/Alnewage/api_yamdb
```

```
cd api_yamdb
```

**Cоздать и активировать виртуальное окружение**

```
# на Unix-подобный системах:
python3 -m venv env
source env/bin/activate
python3 -m pip install --upgrade pip

```

```
# на Windows
python -m venv env
.\env\Scripts\activate
python -m pip install --upgrade pip
```

**Установить зависимости из файла requirements.txt:**
```
pip install -r requirements.txt
```

**Выполнить миграции:**
```
# на Unix-подобный системах:
python3 manage.py migrate
```

```
# на Windows
python manage.py migrate
```

**Запустить проект:**
```
# на Unix-подобный системах:
python3 manage.py runserver
```

```
# на Windows
python manage.py runserver
```

### Для импорта данных в БД выполните команду:

```
# на Unix-подобный системах:
python3 import_all_data_to_db.py

# на Windows
python import_all_data_to_db.py

# находится нужно в каталоге с данным файлом или сразу же укажите путь к нему.

```
## Примеры некоторых запросов к API:
**Получение списка всех пользователей** Только для Администратора
```
GET /api/v1/users/
```

**Добавление пользователя:** Только для Администратора Поля email и username должны быть уникальными.
```
POST /api/v1/users/
```

**Получение пользователя по username:** Только для Администратора
```
GET /api/v1/users/{username}/
```
**Изменение данных пользователя по username:** Только для Администратора Поля email и username должны быть уникальными.
```
PATCH /api/v1/users/{username}/
```

**Удаление пользователя по username:** Только для Администратора
```
DELETE /api/v1/users/{username}/
```

**Получение данных своей учетной записи:** Права доступа: Любой авторизованный пользователь
```
GET api/v1/users/me/
```

**Изменение данных своей учетной записи:** Права доступа: Любой авторизованный пользователь Поля email и username должны быть уникальными.
```
PATCH api/v1/users/me/
```

**Регистрация нового пользователя:** Права доступа: Доступно без токена. Использовать имя 'me' в качестве username запрещено. Поля email и username должны быть уникальными. Должна быть возможность повторного запроса кода подтверждения.
```
POST /api/v1/auth/signup/
```

**Получение JWT-токена:** Получение JWT-токена в обмен на username и confirmation code. Права доступа: Доступно без токена.
```
POST /api/v1/auth/token/
```

**Получение списка всех категорий:** Права доступа: Доступно без токена.
```
GET /api/v1/categories/
```

**Добавление новой категории:** Права доступа: Администратор. Поле slug каждой категории должно быть уникальным.
```
POST /api/v1/categories/
```

**Удаление категории:** Права доступа: Администратор.
```
DELETE /api/v1/categories/{slug}/
```

**Получение списка всех жанров:** Права доступа: Доступно без токена.
```
GET /api/v1/genres/
```

**Добавление жанра:** Права доступа: Администратор. Поле slug каждого жанра должно быть уникальным.
```
POST /api/v1/genres/
```

**Удаление жанра:** Права доступа: Администратор.
```
DELETE /api/v1/genres/
```

**Получение списка всех произведений:** Права доступа: Доступно без токена
```
GET /api/v1/titles/
```

**Добавление произведения:** Права доступа: Администратор. Нельзя добавлять произведения, которые еще не вышли (год выпуска не может быть больше текущего). При добавлении нового произведения требуется указать уже существующие категорию и жанр.
```
POST /api/v1/titles/
```

**Получение информации о произведении:** Права доступа: Доступно без токена.
```
GET /api/v1/titles/{titles_id}/
```

**Частичное обновление информации о произведении:** Права доступа: Администратор
```
PATCH /api/v1/titles/{titles_id}/
```

**Удаление произведения:** Права доступа: Администратор.
```
DELETE /api/v1/titles/{titles_id}/
```

**Получение списка всех отзывов:** Права доступа: Доступно без токена.
```
GET /api/v1/titles/{title_id}/reviews/
```

**Добавление нового отзыва:** Пользователь может оставить только один отзыв на произведение. Права доступа: Аутентифицированные пользователи.
```
POST /api/v1/titles/{title_id}/reviews/
```

**Получение отзыва по id:** Права доступа: Доступно без токена.
```
GET /api/v1/titles/{title_id}/reviews/{review_id}/
```

**Частичное обновление отзыва по id:** Права доступа: Автор отзыва, модератор или администратор.
```
PATCH /api/v1/titles/{title_id}/reviews/{review_id}/
```

**Удаление отзыва по id:** Права доступа: Автор отзыва, модератор или администратор.
```
DELETE /api/v1/titles/{title_id}/reviews/{review_id}/
```

**Получение списка всех комментариев к отзыву:** Права доступа: Доступно без токена.
```
GET /api/v1/titles/{title_id}/reviews/{review_id}/comments/
```

**Добавление комментария к отзыву:** Права доступа: Аутентифицированные пользователи.
```
POST /api/v1/titles/{title_id}/reviews/{review_id}/comments/
```

**Получение комментария к отзыву:** Права доступа: Доступно без токена.
```
GET /api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```

**Частичное обновление комментария к отзыву:** Права доступа: Автор комментария, модератор или администратор.
```
PATCH /api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```

**Удаление комментария к отзыву:** Права доступа: Автор комментария, модератор или администратор.
```
DELETE /api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```